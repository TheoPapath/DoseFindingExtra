% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_design_by_target_sensitivity.R
\name{plot_design_by_target_sensitivity}
\alias{plot_design_by_target_sensitivity}
\title{Plot Optimal Dose Allocations by Target Effect Level}
\usage{
plot_design_by_target_sensitivity(
  fmods,
  probs = NULL,
  delta_seq = seq(0.5, 1.5, by = 0.1)
)
}
\arguments{
\item{fmods}{A model object of class \code{Mods} from the DoseFinding package.}

\item{probs}{A numeric vector of model probabilities. If NULL, defaults to 1 for a single model or equal weights for multiple models.}

\item{delta_seq}{A numeric sequence specifying the range of target effect levels (Delta) to evaluate. Default is from 0.5 to 1.5.}
}
\value{
An invisible list with three components:
\describe{
\item{data}{A data frame of optimal allocation proportions for each dose, Delta, and design criterion.}
\item{plot}{A \code{ggplot} object showing the stacked area plot, faceted by design criterion.}
\item{animation}{A \code{gganimate} object showing allocation shifts across Delta (if supported).}
}
}
\description{
Visualizes how optimal dose allocation proportions shift across a range of target effect levels (Delta),
using three design criteria: D-optimal, TD-optimal, and the hybrid Dopt&TD.
}
\examples{
library(DoseFinding)
doses <- c(0, 5, 40, 80, 160)
mods <- Mods(emax = 50, doses = doses, placEff = 0, maxEff = 1)
plot_design_by_target_sensitivity(mods)

# With multiple models
mods <- Mods(
  emax = c(20, 50, 80, 200),
  sigEmax = c(30, 3.5),
  quadratic = -0.004,
  placEff = 0,
  maxEff = 1,
  doses = doses
)
probs <- c(0.3, rep(0.1, 5) + 0.2/5)
plot_design_by_target_sensitivity(mods, probs)

}
