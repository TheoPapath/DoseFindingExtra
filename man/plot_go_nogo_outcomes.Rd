% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_go_nogo_outcomes.R
\name{plot_go_nogo_outcomes}
\alias{plot_go_nogo_outcomes}
\title{Plot GO/NO GO Outcomes}
\usage{
plot_go_nogo_outcomes(
  results,
  go_crit = 3,
  nogo_crit = 2,
  go_prob = 0.2,
  nogo_prob = 0.9,
  doses_to_compare = NULL,
  bar_width = 0.6,
  fill_colors = c(GO = "darkgreen", STOP = "darkred", Consider = "gold", Intermediate =
    "steelblue", ERROR = "gray")
)
}
\arguments{
\item{results}{A named list from \code{simulate_td_with_power()} with MaxEff keys and associated outputs.}

\item{go_crit}{Numeric. Clinically meaningful threshold for GO decision (e.g., 1.0).}

\item{nogo_crit}{Numeric. Futility threshold for NO GO decision (e.g., 1.5).}

\item{go_prob}{Numeric between 0 and 1. Lower quantile probability used for GO decision.}

\item{nogo_prob}{Numeric between 0 and 1. Upper quantile probability used for STOP decision.}

\item{doses_to_compare}{Numeric vector of doses to compare against placebo. Default is the maximum dose.}

\item{bar_width}{Numeric. Width of the bars in the plot.}

\item{fill_colors}{Named vector of colors for each outcome category.}
}
\value{
A ggplot2 stacked bar plot.
}
\description{
Visualizes GO/NO GO/Consider outcomes from the simulation results
using the difference between each selected dose and placebo. This produces
a stacked bar plot representing the frequency of each outcome.
}
\details{
The function compares predictive quantiles (controlled by \code{go_prob} and \code{nogo_prob})
between the active doses and placebo, and categorizes simulation outcomes into:
\itemize{
\item GO: both lower and upper quantiles exceed thresholds (go_crit and nogo_crit)
\item STOP: both are below their respective thresholds
\item Consider: mixed decision boundaries crossed
\item Intermediate: reverse mixed boundary condition
\item ERROR: fallback if none of the above apply
}
}
\examples{
doses <- c(0, 5, 40, 80, 160)
MaxEffs <- c(3)
pMods <- setNames(lapply(MaxEffs, function(maxEff) {
  DoseFinding::Mods(
    sigEmax = c(50, 3.5),
    placEff = 4,
    maxEff = maxEff,
    doses = doses
  )
}), paste0("MaxEff_", MaxEffs))

results <- simulate_td_with_power(
  pMods = pMods,
  sigma = 0.3,
  doses = doses,
  delta_grid = c(0.5, 1, 1.5),
  go_threshold = 1.5,
  separation_threshold = 0.3,
  nSim = 10
)
plot_go_nogo_outcomes(results, go_crit = 1.0, nogo_crit = 1.5)
}
